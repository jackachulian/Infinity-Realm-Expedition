[gd_scene load_steps=9 format=3 uid="uid://bwdbfebe4g6ud"]

[ext_resource type="PackedScene" uid="uid://bvc6gpdcbxnee" path="res://Assets/Models/Characters/blaze.glb" id="1_3ikbd"]
[ext_resource type="Script" path="res://Assets/Scripts/Hurtbox.gd" id="2_merhb"]
[ext_resource type="Script" path="res://Assets/Scripts/StateMachine/StateMachine.gd" id="3_315mq"]
[ext_resource type="Script" path="res://Assets/Scripts/StateMachine/States/Generic/IdleState.gd" id="4_7ltys"]
[ext_resource type="Script" path="res://Assets/Scripts/StateMachine/States/Generic/MoveState.gd" id="5_6k0yk"]
[ext_resource type="Script" path="res://Assets/Scripts/StateMachine/States/Generic/StandardState.gd" id="6_0cp0y"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_fv3s8"]
radius = 0.375
height = 1.8

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_07m3k"]
radius = 0.375
height = 1.8

[node name="blaze" instance=ExtResource("1_3ikbd")]

[node name="Armature" parent="." index="0"]
transform = Transform3D(0.265, 0, 0, 0, 0.265, 0, 0, 0, 0.265, 0, 0, 0)

[node name="Skeleton3D" parent="Armature" index="0"]
bones/1/rotation = Quaternion(5.45737e-08, 0.691005, 0.72285, 5.21695e-08)
bones/2/rotation = Quaternion(-0.0040715, 1.94706e-07, -1.77971e-10, 0.999992)
bones/3/rotation = Quaternion(-0.0155266, 0.0623337, -0.724284, 0.686503)
bones/4/rotation = Quaternion(0.0610095, -0.000678613, 0.0357475, 0.997497)
bones/4/scale = Vector3(1, 1, 1)
bones/5/rotation = Quaternion(-0.053055, 0.000828259, -0.0264212, 0.998242)
bones/5/scale = Vector3(1, 1, 1)
bones/6/rotation = Quaternion(0.0469132, 0.00214303, -0.045207, 0.997873)
bones/7/scale = Vector3(1, 1, 1)
bones/8/rotation = Quaternion(0.0867799, 0.00873753, 0.00076119, 0.996189)
bones/9/scale = Vector3(1, 1, 1)
bones/10/rotation = Quaternion(-3.52818e-10, 0.00467001, 1.23757e-09, 0.999989)
bones/11/rotation = Quaternion(-3.52818e-10, 0.00467001, 1.23757e-09, 0.999989)
bones/12/rotation = Quaternion(-3.52818e-10, 0.00467001, 1.23757e-09, 0.999989)
bones/13/rotation = Quaternion(-3.52818e-10, 0.00467001, 1.23757e-09, 0.999989)
bones/14/rotation = Quaternion(-0.0155268, -0.0623339, 0.724284, 0.686503)
bones/14/scale = Vector3(1, 1, 1)
bones/15/rotation = Quaternion(0.0610095, 0.000678613, -0.0357475, 0.997497)
bones/16/rotation = Quaternion(-0.053055, -0.000828258, 0.0264212, 0.998242)
bones/16/scale = Vector3(1, 1, 1)
bones/17/rotation = Quaternion(0.0469132, -0.00214303, 0.045207, 0.997873)
bones/17/scale = Vector3(1, 1, 1)
bones/18/rotation = Quaternion(-0.50453, 0.476392, 0.540577, -0.475685)
bones/18/scale = Vector3(2.68095, 2.68095, 2.68095)
bones/19/rotation = Quaternion(0.425811, -0.0983075, 0.208791, 0.874887)
bones/19/scale = Vector3(1, 1, 1)
bones/20/rotation = Quaternion(-0.045432, 0.0224184, -0.707142, 0.705254)
bones/20/scale = Vector3(1, 1, 1)
bones/21/rotation = Quaternion(-0.0454322, -0.0224186, 0.707142, 0.705254)
bones/21/scale = Vector3(1, 1, 1)
bones/23/rotation = Quaternion(0.70616, 0.0102408, 0.707496, -0.0261344)
bones/23/scale = Vector3(1, 1, 1)
bones/24/rotation = Quaternion(-0.0183977, 0.000197636, 0.0153115, 0.999713)
bones/25/rotation = Quaternion(0.129695, -0.0911089, -0.667799, 0.727271)
bones/25/scale = Vector3(1, 1, 1)
bones/26/rotation = Quaternion(-0.0161526, -0.0218294, 0.0251327, 0.999315)
bones/27/scale = Vector3(1, 1, 1)
bones/28/rotation = Quaternion(-0.0183978, -0.000197609, -0.0153115, 0.999713)
bones/29/rotation = Quaternion(0.129695, 0.0911088, 0.667799, 0.727271)
bones/29/scale = Vector3(1, 1, 1)
bones/30/rotation = Quaternion(-0.0161526, 0.0218294, -0.0251327, 0.999315)
bones/31/rotation = Quaternion(0.699431, 0.0566456, 0.712317, -0.0138806)
bones/31/scale = Vector3(0.999993, 1, 0.999997)
bones/32/rotation = Quaternion(0.708058, 0.0210488, 0.701232, -0.0805308)
bones/32/scale = Vector3(0.999994, 1, 0.999998)
bones/33/scale = Vector3(0.999993, 1, 0.999997)
bones/34/rotation = Quaternion(0.708056, -0.0210488, -0.701233, -0.0805306)
bones/34/scale = Vector3(1, 1, 1)

[node name="Hair" parent="Armature/Skeleton3D" index="0"]
transform = Transform3D(2.68095, 6.70296e-08, -8.19564e-08, -6.45941e-08, 2.68095, -5.86689e-08, 6.70552e-08, -1.81694e-07, 2.68095, -1.82805e-07, -0.0382895, 4.54485e-07)
visible = false

[node name="Hair-HelmetOn" parent="Armature/Skeleton3D" index="1"]
transform = Transform3D(2.68095, 6.70296e-08, -8.19564e-08, -6.45941e-08, 2.68095, -5.86689e-08, 6.70552e-08, -1.81694e-07, 2.68095, -1.82805e-07, -0.0382895, 4.54485e-07)

[node name="Head" parent="Armature/Skeleton3D" index="2"]
transform = Transform3D(2.68095, 6.70296e-08, -8.19564e-08, -6.45941e-08, 2.68095, -5.86689e-08, 6.70552e-08, -1.81694e-07, 2.68095, -1.82805e-07, -0.0382895, 4.54485e-07)

[node name="Helmet" parent="Armature/Skeleton3D" index="3"]
transform = Transform3D(2.68095, 6.70296e-08, -8.19564e-08, -6.45941e-08, 2.68095, -5.86689e-08, 6.70552e-08, -1.81694e-07, 2.68095, -1.82805e-07, -0.0382895, 4.54485e-07)

[node name="Claymore" parent="Armature/Skeleton3D" index="4"]
transform = Transform3D(2.68095, -2.38419e-07, -4.74043e-07, -4.03728e-07, 0.0588394, -2.6803, 4.32134e-07, 2.6803, 0.0588395, -3.40282, 5.13973, -0.00868745)

[node name="Cape" parent="Armature/Skeleton3D" index="5"]
transform = Transform3D(2.68095, -6.7978e-10, 1.03148e-09, 6.79798e-10, 2.68095, -3.42727e-07, -1.03148e-09, 5.96046e-08, 2.68095, -4.64422e-09, 0.338766, -3.7998e-07)

[node name="CollisionShape3D" type="CollisionShape3D" parent="." index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.9, 0)
shape = SubResource("CapsuleShape3D_fv3s8")

[node name="Hurtbox" type="Area3D" parent="." index="3"]
collision_layer = 0
collision_mask = 0
script = ExtResource("2_merhb")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Hurtbox" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.9, 0)
shape = SubResource("CapsuleShape3D_07m3k")

[node name="StateMachine" type="Node3D" parent="." index="4"]
script = ExtResource("3_315mq")

[node name="Idle" type="Node" parent="StateMachine" index="0"]
script = ExtResource("4_7ltys")
animation_name = "Idle"

[node name="Move" type="Node3D" parent="StateMachine" index="1" node_paths=PackedStringArray("move_stop_state", "jump_state", "fall_state")]
script = ExtResource("5_6k0yk")
move_stop_state = NodePath("../RunStop")
jump_state = NodePath("../JumpRise")
fall_state = NodePath("../JumpFall")
speed = 10.0

[node name="RunStop" type="Node" parent="StateMachine" index="2" node_paths=PackedStringArray("state_on_anim_finished")]
script = ExtResource("4_7ltys")
animation_name = "Idle"
state_on_anim_finished = NodePath("../Idle")

[node name="Dash" type="Node" parent="StateMachine" index="3" node_paths=PackedStringArray("state_on_anim_finish", "disable_shapes_during")]
script = ExtResource("6_0cp0y")
animation_name = "Dash"
action_on_anim_finish = true
state_on_anim_finish = NodePath("../DashStop")
instant_velocity_on_enter = Vector3(0, 0, -18)
limit_exit_linear_velocity = true
rotate_mode = 1
movement_speed = 8.0
gravity_multiplier = 0.0
decel_override = 0.0
movement_speed_on_exit = 8.0
can_move = false
disable_shapes_during = [NodePath("")]

[node name="DashStop" type="Node" parent="StateMachine" index="4" node_paths=PackedStringArray("state_on_anim_finished")]
script = ExtResource("4_7ltys")
animation_name = "Dash-Stop"
state_on_anim_finished = NodePath("../Idle")

[node name="JumpPrepare" type="Node" parent="StateMachine" index="5" node_paths=PackedStringArray("state_on_anim_finish")]
script = ExtResource("6_0cp0y")
animation_name = "JumpPrepare"
state_on_anim_finish = NodePath("../JumpRise")
rotate_mode = 2

[node name="JumpRise" type="Node" parent="StateMachine" index="6" node_paths=PackedStringArray("grounded_state", "falling_state")]
script = ExtResource("6_0cp0y")
animation_name = "JumpRise"
grounded_state = NodePath("../JumpLand")
falling_state = NodePath("../JumpFall")
instant_velocity_on_enter = Vector3(0, 13, 0)
rotate_mode = 1
movement_mode = 3
movement_speed = 5.75
prevent_wall_slide = true
can_use_actions = true
can_move = false
prevent_self_action_request = true

[node name="JumpFall" type="Node" parent="StateMachine" index="7" node_paths=PackedStringArray("grounded_state")]
script = ExtResource("6_0cp0y")
animation_name = "JumpFall"
grounded_state = NodePath("../JumpLand")
movement_mode = 3
movement_speed = 6.25
prevent_wall_slide = true
can_use_actions = true
prevent_self_action_request = true

[node name="JumpLand" type="Node" parent="StateMachine" index="8" node_paths=PackedStringArray("state_on_anim_finished")]
editor_description = "Going to leave a placeholder here. Might be good to try  a jump landing animation."
script = ExtResource("4_7ltys")
animation_name = "JumpLand"
limit_aerial_velocity = false
state_on_anim_finished = NodePath("../Idle")
